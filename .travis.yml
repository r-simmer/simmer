language: R
sudo: true
latex: true
r:
  - release

git:
  submodules: false

warnings_are_errors: true
env:
  global:
    - _R_CHECK_CRAN_INCOMING_=FALSE
    - secure: "y6dn6JypVJq42dKJLqBT5WGiezaLjx27REgEECM1+pGzxmhAzmHDQtlHXYTIMZeqjV7eyDJm1FTEct/DPvuuO5okk9IqWPtM0NDkhaDhC27y5+BhE1VubAq0HkXAK4kwJ61jGY2hi+6YTasmwOyYA9bdSMfh9giFQVFGCqSUW4Q="

r_github_packages:
  - r-lib/covr

before_install:
  - echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-

addons:
  coverity_scan:
    project:
      name: "r-simmer/simmer"
      description: "Build submitted via Travis CI"
    notification_email: i.ucar86@gmail.com
    build_command: "R CMD INSTALL --no-R --no-data --no-help --no-demo --no-inst --no-docs --no-exec --no-multiarch --no-test-load --preclean ."
    branch_pattern: coverity_scan
